{"remainingRequest":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\src\\views\\dataset\\sample\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\src\\views\\dataset\\sample\\index.vue","mtime":1720420573973},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\babel.config.js","mtime":1720420573884},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720430444311},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1720430444357},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720430444311},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1720430443512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmF0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYXQtYWx0ZXJuYXRpdmUuanMiKTsKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9tMTk4MC9EZXNrdG9wL2J1Y3Qta2FnZ2xlL2RhdGFfbW9kZWwvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvbTE5ODAvRGVza3RvcC9idWN0LWthZ2dsZS9kYXRhX21vZGVsL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKdmFyIF9kYXRhc2V0ID0gcmVxdWlyZSgiQC9hcGkvZGF0YXNldC9kYXRhc2V0Iik7CnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAiU2FtcGxlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXQ6IF9sb2Rhc2guYXQsCiAgICAgIGlkczogW10sCiAgICAgIG5hbWVzOiBbXSwKICAgICAgaW1wb3J0bWV0aG9kOiAiIiwKICAgICAgdG90YWw6IDMzMCwKICAgICAgcm93OiAwLAogICAgICBjb2w6IDAsCiAgICAgIHNob3dOdW06IDIwLAogICAgICBzYW1wbGVTZXRMaXN0OiBbXSwKICAgICAgZGV0YWlsVGFibGU6IFtdLAogICAgICBkeW5hbWljVGFibGU6IFtdLAogICAgICBzZWFyY2hEYXRhOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICBmb3JtOiB7CiAgICAgICAgbmFtZTogIjEiLAogICAgICAgIGRhdGFfZGVzY3JpcHRpb246ICIxIiwKICAgICAgICBkYXRhRmlsZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeagt+acrOmbhuWQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBkZXNjOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5qC35pys6ZuG55u45YWz5o+P6L+wIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3R0OiAiIiwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgZGF0YTogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWFyY2hFeHA6IGZ1bmN0aW9uIHNlYXJjaEV4cCh2YWx1ZSkgewogICAgICB0aGlzLnNlYXJjaERhdGEgPSB0aGlzLmZpbHRlcmVkRGF0YTsKICAgIH0sCiAgICBiZWZvcmVSZW1vdmU6IGZ1bmN0aW9uIGJlZm9yZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICByZXR1cm4gdGhpcy4kY29uZmlybSgiXHU3ODZFXHU1QjlBXHU3OUZCXHU5NjY0ICIuY29uY2F0KGZpbGUubmFtZSwgIlx1RkYxRiIpKTsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWRGaWxlOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWRGaWxlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuZm9ybS5kYXRhRmlsZSA9IGZpbGUucmF3OwogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMubmFtZXMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBpZCA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgdmFyIG5hbWUgPSByb3cubmFtZSB8fCB0aGlzLm5hbWVzOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTlkI3kuLoiJyArIG5hbWUgKyAnIueahOaVsOaNrumhue+8nycpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX2RhdGFzZXQuZGVsQnlJZCkoaWQpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgX3RoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgibmFtZSIsIHRoaXMuZm9ybS5uYW1lKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJkYXRhX2Rlc2NyaXB0aW9uIiwgdGhpcy5mb3JtLmRhdGFfZGVzY3JpcHRpb24pOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCB0aGlzLmZvcm0uZGF0YUZpbGUpOwogICAgICAvLyBjb25zb2xlLmxvZyhgb3V0cHV0LT50aGlzLmZvcm1gLCB0aGlzLmZvcm0pOwogICAgICAoMCwgX2RhdGFzZXQucG9zdERhdGEpKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhgb3V0cHV0LT5yZXNgLHJlcykKICAgICAgICBpZiAocmVzID09ICJzdWNjZXNzIikgewogICAgICAgICAgX3RoaXMyLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS4iuS8oOaIkOWKnyEiCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMi5nZXRMaXN0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLkuIrkvKDlpLHotKUhIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF9kYXRhc2V0LmdldERhdGFzZXQpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coYG91dHB1dC0+cmVzYCxyZXMpCiAgICAgICAgX3RoaXMzLnRhYmxlRGF0YSA9IHJlczsKICAgICAgICBfdGhpczMuc2VhcmNoRGF0YSA9IHJlczsKICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXREZXRhaWxlZDogZnVuY3Rpb24gZ2V0RGV0YWlsZWQoZWwsIGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBpZiAoZWwuaW5kZXggPT0gMikgewogICAgICAgICgwLCBfZGF0YXNldC5nZXREZXRhaWxEYXRhKShpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICBfdGhpczQuZHluYW1pY1RhYmxlID0gT2JqZWN0LmtleXMocmVzWzBdKTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZHluYW1pY1RhYmxlKTsKICAgICAgICAgIF90aGlzNC5kZXRhaWxUYWJsZSA9IHJlcy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIHJldHVybiAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCBpdGVtKSwgcmVzW2luZGV4XSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIHRoaXMuZHluYW1pY1RhYmxlID0gcmVzWzBdLm1hcCgoZSk9PnsKICAgICAgICAgIC8vICAgcmV0dXJuIGUucmVwbGFjZSgvXC4vZywgJ18nKQogICAgICAgICAgLy8gfSk7CiAgICAgICAgICAvLyB0aGlzLmRldGFpbFRhYmxlID0gcmVzLnNsaWNlKDEpLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgLy8gICBsZXQgb2JqID0ge307CiAgICAgICAgICAvLyAgIHRoaXMuZHluYW1pY1RhYmxlLmZvckVhY2goKGNvbHVtbiwgaW5kZXgpID0+IHsKICAgICAgICAgIC8vICAgICBvYmpbY29sdW1uXSA9IGl0ZW1baW5kZXhdOwogICAgICAgICAgLy8gICB9KTsKICAgICAgICAgIC8vICAgcmV0dXJuIG9iajsKICAgICAgICAgIC8vIH0pOwogICAgICAgICAgLy8gY29uc29sZS5sb2coYG91dHB1dC0+dGhpcy5keW5hbWljVGFibGVgLHRoaXMuZHluYW1pY1RhYmxlKQogICAgICAgICAgLy8gY29uc29sZS5sb2coYG91dHB1dC0+dGhpcy5kZXRhaWxUYWJsZWAsdGhpcy5kZXRhaWxUYWJsZSkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChlbC5pbmRleCA9PSAxKSB7CiAgICAgICAgKDAsIF9kYXRhc2V0LmdldFJvd0NvbCkoaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0LnJvdyA9IHJlcy5yb3dzOwogICAgICAgICAgX3RoaXM0LmNvbCA9IHJlcy5jb2xzOwogICAgICAgIH0pOwogICAgICB9IGVsc2Uge30KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJlZERhdGE6IGZ1bmN0aW9uIGZpbHRlcmVkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHJldHVybiB0aGlzLnRhYmxlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoX3RoaXM1LnNlbGVjdHQudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"names":["_dataset","require","_lodash","name","data","at","ids","names","importmethod","total","row","col","showNum","sampleSetList","detailTable","dynamicTable","searchData","loading","multiple","form","data_description","dataFile","undefined","rules","required","message","trigger","desc","dialogVisible","selectt","tableData","methods","searchExp","value","filteredData","beforeRemove","file","fileList","$confirm","concat","handleUploadFile","raw","handleSelectionChange","selection","map","item","id","single","length","handleDelete","_this","$modal","confirm","then","delById","getList","msgSuccess","catch","onSubmit","_this2","formData","FormData","append","postData","res","$message","type","_this3","getDataset","getDetailed","el","_this4","index","getDetailData","JSON","parse","Object","keys","_objectSpread2","default","getRowCol","rows","cols","computed","_this5","filter","toLowerCase","includes","created","mounted"],"sources":["src/views/dataset/sample/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"4\" :xs=\"24\">\r\n        <div class=\"head-container\">\r\n          <el-input v-model=\"selectt\" placeholder=\"请输入数据集名称\" clearable size=\"small\" prefix-icon=\"el-icon-search\"\r\n            style=\"margin-bottom: 20px\" @input=\"searchExp\" />\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"4\" :offset=\"16\"><el-button type=\"primary\" icon=\"el-icon-plus\" size=\"mini\"\r\n          @click=\"dialogVisible = true\">新建样本集</el-button>\r\n        <el-button type=\"info\" plain icon=\"el-icon-delete\" size=\"mini\" :disabled=\"multiple\"\r\n          @click=\"handleDelete\">删除</el-button></el-col>\r\n      <el-table :data=\"searchData\" style=\"width: 100%\" v-loading=\"loading\" @selection-change=\"handleSelectionChange\">\r\n        <el-table-column prop=\"select\" type=\"selection\" width=\"180\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column type=\"expand\">\r\n          <template slot-scope=\"props\">\r\n            <el-tabs type=\"border-card\" @tab-click=\"getDetailed($event, props.row.id)\" value=\"first\" :stretch=\"true\">\r\n              <el-tab-pane label=\"基础信息\" name=\"first\">\r\n                表基础信息\r\n                <el-form>\r\n                  <el-form-item>\r\n                    样本集名称：{{ props.row.name }}\r\n                  </el-form-item>\r\n                  <el-form-item>\r\n                    样本集描述：{{ props.row.data_description }}\r\n                  </el-form-item>\r\n                  <el-form-item>\r\n                    样本集创建时间：{{ props.row.upload_date }}\r\n                  </el-form-item>\r\n                </el-form>\r\n              </el-tab-pane>\r\n              <el-tab-pane label=\"表结构\" name=\"second\">\r\n                <h1>该表有{{ row }}行,{{ col }}列</h1>\r\n              </el-tab-pane>\r\n              <el-tab-pane label=\"样例数据\" name=\"third\">\r\n                <div style=\"display: flex; justify-content: space-around\">\r\n                  <span>仅展示前\r\n                    <el-input style=\"width: 80px\" type=\"number\" v-model=\"showNum\"></el-input>\r\n                    条数据</span>\r\n                  <div>\r\n                    <router-link :to=\"`/dataset/sample/detail/${props.row.id}`\" class=\"link-type\">\r\n                      <el-button>选择参与训练数据</el-button>\r\n                    </router-link>\r\n                  </div>\r\n                </div>\r\n                <el-table :data=\"detailTable.slice(0, showNum)\" style=\"width: 100%\">\r\n                  <el-table-column v-for=\"(item, index) in dynamicTable\" :key=\"index\" :prop=\"item\" :label=\"item\"\r\n                    align=\"center\"></el-table-column>\r\n                </el-table>\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"name\" label=\"样本集名称\" width=\"250\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"data_description\" label=\"样本集描述\" width=\"250\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"createtime\" label=\"创建时间\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ parseTime(scope.row.upload_date) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" icon=\"el-icon-delete\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\">\r\n      </el-pagination> -->\r\n\r\n      <!-- <pagination\r\n      v-show=\"total > 0\"\r\n      :total=\"total\"\r\n      :page.sync=\"queryParams.pageNum\"\r\n      :limit.sync=\"queryParams.pageSize\"\r\n      @pagination=\"getList\"\r\n    /> -->\r\n\r\n      <el-dialog title=\"新建样本集\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" name=\"form\">\r\n          <el-form-item label=\"样本集名称\" prop=\"name\">\r\n            <el-input v-model=\"form.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"样本集描述\" prop=\"data_description\">\r\n            <el-input type=\"textarea\" v-model=\"form.data_description\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"样本集导入方式\">\r\n            <el-radio-group v-model=\"importmethod\">\r\n              <el-radio label=\"本地数据导入\"></el-radio>\r\n              <el-radio label=\"OS对象数据同步\"></el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <!-- <input type=\"file\" @change=\"handleFileUpload\"> -->\r\n            <el-upload action=\"\" :before-remove=\"beforeRemove\" ref=\"upload\" multiple :limit=\"3\" :auto-upload=\"false\"\r\n              :on-change=\"handleUploadFile\" label=\"form\">\r\n              <el-button class=\"el-icon-upload2\">本地数据导入</el-button>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n            <el-button @click=\"(event) => (this.dialogVisible = false)\">取消</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-dialog>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\n  import {\r\n    postData,\r\n    getDataset,\r\n    delById,\r\n    getDetailData,\r\n    getRowCol,\r\n  } from \"@/api/dataset/dataset\";\r\n  import { at } from \"lodash\";\r\n  export default {\r\n    name: \"Sample\",\r\n    data () {\r\n      return {\r\n        at,\r\n        ids: [],\r\n        names: [],\r\n        importmethod: \"\",\r\n        total: 330,\r\n        row: 0,\r\n        col: 0,\r\n        showNum: 20,\r\n        sampleSetList: [],\r\n        detailTable: [],\r\n        dynamicTable: [],\r\n        searchData: [],\r\n        loading: false,\r\n        multiple: true,\r\n        form: {\r\n          name: \"1\",\r\n          data_description: \"1\",\r\n          dataFile: undefined,\r\n        },\r\n        rules: {\r\n          name: [\r\n            { required: true, message: \"请输入样本集名称\", trigger: \"blur\" },\r\n          ],\r\n          desc: [\r\n            { required: true, message: \"请输入样本集相关描述\", trigger: \"blur\" },\r\n          ],\r\n        },\r\n        dialogVisible: false,\r\n        selectt: \"\",\r\n        tableData: [],\r\n        data: \"\",\r\n      };\r\n    },\r\n    methods: {\r\n      searchExp (value) {\r\n        this.searchData = this.filteredData;\r\n      },\r\n      beforeRemove (file, fileList) {\r\n        return this.$confirm(`确定移除 ${file.name}？`);\r\n      },\r\n      handleUploadFile (file, fileList) {\r\n        this.form.dataFile = file.raw;\r\n      },\r\n      handleSelectionChange (selection) {\r\n        this.ids = selection.map((item) => item.id);\r\n        this.names = selection.map((item) => item.name);\r\n        this.single = selection.length != 1;\r\n        this.multiple = !selection.length;\r\n      },\r\n      handleDelete (row) {\r\n        const id = row.id || this.ids;\r\n        const name = row.name || this.names;\r\n        this.$modal\r\n          .confirm('是否确认删除名为\"' + name + '\"的数据项？')\r\n          .then(function () {\r\n            return delById(id);\r\n          })\r\n          .then(() => {\r\n            this.getList();\r\n            this.$modal.msgSuccess(\"删除成功\");\r\n          })\r\n          .catch(() => { });\r\n      },\r\n      onSubmit () {\r\n        let formData = new FormData();\r\n        formData.append(\"name\", this.form.name);\r\n        formData.append(\"data_description\", this.form.data_description);\r\n        formData.append(\"file\", this.form.dataFile);\r\n        // console.log(`output->this.form`, this.form);\r\n        postData(formData).then((res) => {\r\n          // console.log(`output->res`,res)\r\n          if (res == \"success\") {\r\n            this.dialogVisible = false;\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"上传成功!\",\r\n            });\r\n            this.getList();\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"上传失败!\",\r\n            });\r\n          }\r\n        });\r\n      },\r\n      getList () {\r\n        this.loading = true;\r\n        getDataset().then((res) => {\r\n          // console.log(`output->res`,res)\r\n          this.tableData = res;\r\n          this.searchData = res;\r\n          this.loading = false;\r\n        });\r\n      },\r\n      getDetailed (el, id) {\r\n        if (el.index == 2) {\r\n          getDetailData(id).then((res) => {\r\n            res = JSON.parse(res)\r\n            this.dynamicTable = Object.keys(res[0]);\r\n            // console.log(this.dynamicTable);\r\n            this.detailTable = res.map((item, index) => {\r\n              return { ...item, ...res[index] };\r\n            });\r\n            // this.dynamicTable = res[0].map((e)=>{\r\n            //   return e.replace(/\\./g, '_')\r\n            // });\r\n            // this.detailTable = res.slice(1).map((item) => {\r\n            //   let obj = {};\r\n            //   this.dynamicTable.forEach((column, index) => {\r\n            //     obj[column] = item[index];\r\n            //   });\r\n            //   return obj;\r\n            // });\r\n            // console.log(`output->this.dynamicTable`,this.dynamicTable)\r\n            // console.log(`output->this.detailTable`,this.detailTable)\r\n          });\r\n        } else if (el.index == 1) {\r\n          getRowCol(id).then((res) => {\r\n            this.row = res.rows;\r\n            this.col = res.cols;\r\n          });\r\n        } else {\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n      filteredData () {\r\n        return this.tableData.filter((item) =>\r\n          item.name.toLowerCase().includes(this.selectt.toLowerCase())\r\n        );\r\n      },\r\n    },\r\n    created () {\r\n      this.getList();\r\n    },\r\n    mounted () { },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .el-tabs {\r\n    width: 80%;\r\n    margin: auto;\r\n  }\r\n</style>"],"mappings":"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","ignoreList":[]}]}
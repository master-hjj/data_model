{"remainingRequest":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\src\\views\\stream\\draggable\\preprocess.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\src\\views\\stream\\draggable\\preprocess.vue","mtime":1720420573985},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720430444311},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1720430444357},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720430444311},{"path":"C:\\Users\\m1980\\Desktop\\buct-kaggle\\data_model\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1720430443512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KCmltcG9ydCB7IHNob3dwcmVwcm9jZXNzLCBjbGFzc2lmaWVkcHJlcHJvY2VzcyB9IGZyb20gIkAvYXBpL3ByZXByb2Nlc3MvdXBsb2FkIjsKaW1wb3J0IGdvIGZyb20gJ2dvanMnCmNvbnN0ICQgPSBnby5HcmFwaE9iamVjdC5tYWtlOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRyYWdnYWJsZSIsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBwcmVwcm9jZXNzX25vZGU6IHVuZGVmaW5lZCwKICAgICAgbW9kZWxfbm9kZTogdW5kZWZpbmVkLAogICAgICBzaGFwZTogWydDaXJjbGUnLCAnU3F1YXJlJywgJ1JvdW5kZWRSZWN0YW5nbGUnLCAnUmVjdGFuZ2xlJywgJ0VsbGlwc2UnLCAnVHJpYW5nbGUnXSwKICAgICAgY29sb3I6IFsnIzk5RkYwMCcsICcjRkY2NjAwJywgJyNGRjMzQ0MnLCAnIzY2MzNGRicsICcjMDA5OTY2J10KICAgIH0KICB9LAoKICBtb3VudGVkICgpIHsKICAgIGNsYXNzaWZpZWRwcmVwcm9jZXNzKCkudGhlbihyZXMgPT4gewogICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICB0aGlzLnByZXByb2Nlc3Nfbm9kZSA9IHJlcwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnByZXByb2Nlc3Nfbm9kZSk7CiAgICAgIHRoaXMuaW5pdCgpCiAgICB9KQoKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmUgKCkgewogICAgICB2YXIgbXlTZWxmID0gdGhpczsKICAgICAgY29uc29sZS5sb2cobXlTZWxmLm15RGlhZ3JhbS5tb2RlbC50b0pzb24oKSk7CiAgICAgIG15U2VsZi5teURpYWdyYW0uaXNNb2RpZmllZCA9IGZhbHNlOwogICAgfSwKICAgIGluaXQgKCkgewogICAgICBjbGFzcyBEZW1vRm9yY2VEaXJlY3RlZExheW91dCBleHRlbmRzIGdvLkZvcmNlRGlyZWN0ZWRMYXlvdXQgeyAvL+W4g+WxgAogICAgICAgIG1ha2VOZXR3b3JrIChjb2xsKSB7CiAgICAgICAgICBjb25zdCBuZXQgPSBzdXBlci5tYWtlTmV0d29yayhjb2xsKTsKICAgICAgICAgIG5ldC52ZXJ0ZXhlcy5lYWNoKHZlcnRleCA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB2ZXJ0ZXgubm9kZTsKICAgICAgICAgICAgaWYgKG5vZGUgIT09IG51bGwpIHZlcnRleC5pc0ZpeGVkID0gbm9kZS5pc1NlbGVjdGVkOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gbmV0OwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgbXlTZWxmID0gdGhpczsKCiAgICAgIG15U2VsZi5teURpYWdyYW0gPQogICAgICAgICQoZ28uRGlhZ3JhbSwgIm15RGlhZ3JhbURpdiIsICAvLyDkuLpESVYuSFRNTOWFg+e0oOWIm+W7uuS4gOS4queUu+W4gwogICAgICAgICAgewogICAgICAgICAgICAvL+iuvue9rueUu+W4g+mFjee9rgogICAgICAgICAgICBpbml0aWFsQ29udGVudEFsaWdubWVudDogZ28uU3BvdC5DZW50ZXIsIC8vIOWxheS4reaYvuekugogICAgICAgICAgICAidW5kb01hbmFnZXIuaXNFbmFibGVkIjogdHJ1ZSwgLy8g5pSv5oyBIEN0cmwtWiDlkowgQ3RybC1ZIOaTjeS9nAogICAgICAgICAgICAidG9vbE1hbmFnZXIuaG92ZXJEZWxheSI6IDEwMCwgLy90b29sdGlw5o+Q56S65pi+56S65bu25pe2CiAgICAgICAgICAgICJ0b29sTWFuYWdlci50b29sVGlwRHVyYXRpb24iOiAxMDAwMCwgLy90b29sdGlw5oyB57ut5pi+56S65pe26Ze0CiAgICAgICAgICAgIC8vaXNSZWFkT25seTp0cnVlLC8v5Y+q6K+7CiAgICAgICAgICAgICJncmlkLnZpc2libGUiOiB0cnVlLCAvL+aYvuekuue9keagvAogICAgICAgICAgICBhbGxvd01vdmU6IHRydWUsIC8v5YWB6K645ouW5YqoCiAgICAgICAgICAgIGFsbG93RHJhZ091dDogdHJ1ZSwKICAgICAgICAgICAgYWxsb3dEZWxldGU6IHRydWUsCiAgICAgICAgICAgIGFsbG93Q29weTogdHJ1ZSwKICAgICAgICAgICAgYWxsb3dDbGlwYm9hcmQ6IHRydWUsIGluaXRpYWxBdXRvU2NhbGU6IGdvLkRpYWdyYW0uVW5pZm9ybSwgIC8vIOe8qeaUvuS7peS9v+aJgOacieWGheWuuemDvemAguWQiAoKICAgICAgICAgICAgInRvb2xNYW5hZ2VyLm1vdXNlV2hlZWxCZWhhdmlvciI6IGdvLlRvb2xNYW5hZ2VyLldoZWVsWm9vbSwgLy/mnInpvKDmoIfmu5rova7kuovku7bmlL7lpKflkoznvKnlsI/vvIzogIzkuI3mmK/lkJHkuIrlkozlkJHkuIvmu5rliqgKICAgICAgICAgICAgJ2NsaWNrQ3JlYXRpbmdUb29sLmFyY2hldHlwZU5vZGVEYXRhJzogeyBjYXRlZ29yeTogJ21vZGVsJywgdGV4dDogJ+aWsOiKgueCuScsIG5vdGljZTogJycgfSwgLy8g5Y+M5Ye75paw5bu66IqC54K5KOWPr+S7peWGmeWFpeiKgueCueeahOm7mOiupOS/oeaBrynvvJsKICAgICAgICAgICAgbGF5b3V0OiBuZXcgRGVtb0ZvcmNlRGlyZWN0ZWRMYXlvdXQoKQogICAgICAgICAgfSk7CgogICAgICBteVNlbGYubXlEaWFncmFtLmxpbmtUZW1wbGF0ZSA9ICQoZ28uTGluaywgewogICAgICAgIHNlbGVjdGFibGU6IHRydWUsIC8v6L+e5o6l57q/5piv5ZCm5Y+v6YCJCiAgICAgICAgcmVsaW5rYWJsZUZyb206IHRydWUsLy/lh7rlj5HngrnmmK/lkKblj6/ku6XmlLnlj5gKICAgICAgICByZWxpbmthYmxlVG86IHRydWUsLy/nm67moIfngrnmmK/lkKblj6/ku6XmlLnlj5gKICAgICAgfSwgbmV3IGdvLkJpbmRpbmcoImxvY2F0aW9uIiwgImxvYyIsIGdvLlBvaW50LnBhcnNlKS5tYWtlVHdvV2F5KGdvLlBvaW50LnN0cmluZ2lmeSksCiAgICAgICAgJChnby5TaGFwZSwgewogICAgICAgICAgc3Ryb2tlV2lkdGg6IDIsLy/oioLngrnov57mjqXnur/lrr3luqYKICAgICAgICAgIHN0cm9rZTogIiNGNjAiLy/popzoibIKICAgICAgICB9KSwKICAgICAgICAkKGdvLlNoYXBlLCB7CiAgICAgICAgICB0b0Fycm93OiAiU3RhbmRhcmQiLAogICAgICAgICAgZmlsbDogInJlZCIsLy/nrq3lpLTloavlhYXoibIKICAgICAgICAgIHN0cm9rZTogImJsdWUiLy/lpJbovrnmoYbpopzoibIKICAgICAgICB9KS8v566t5aS0CiAgICAgICk7CiAgICAgIHZhciBjb3VudCA9IDAKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJlcHJvY2Vzc19ub2RlKSB7CiAgICAgICAgbXlTZWxmLm15RGlhZ3JhbS5ub2RlVGVtcGxhdGVNYXAuYWRkKC8v5Yib5bu65ZCN5Li6bm9kZTI1OOeahOiKgueCuQogICAgICAgICAga2V5LAogICAgICAgICAgJChnby5Ob2RlLAogICAgICAgICAgICAiYXV0byIsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBtb3ZhYmxlOiB0cnVlLC8v5piv5ZCm5Y+v5ouW5YqoCiAgICAgICAgICAgICAgZGVsZXRhYmxlOiB0cnVlLC8v5piv5ZCm5Y+v5Yig6ZmkCiAgICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwgLy/mmK/lkKblj6/pgInmi6kKICAgICAgICAgICAgICBzZWxlY3Rpb25BZG9ybmVkOiBmYWxzZSwgLy/mmL7npLrpgInkuK3ovrnmoYYKICAgICAgICAgICAgICAvLyByZXNoYXBhYmxlOnRydWUsIC8vIOmHjeWhkSjmlLnlj5hzaGFwZeW9oueKtui+ueeVjOaXtuS9v+eUqO+8jOWwhuW9seWTjeiKgueCueWkp+WwjykKICAgICAgICAgICAgICAvLyByZXNpemFibGU6IHRydWUsIC8vIOWPr+iwg+aVtOWkp+Wwj+eahCjmiYvliqjosIPmlbToioLngrnlpKflsI/ml7bvvIzoioLngrnlhoXlrrnmmL7npLrljLrln5/ml7bkvb/nlKgpCiAgICAgICAgICAgIH0sIG5ldyBnby5CaW5kaW5nKCJsb2NhdGlvbiIsICJsb2MiLCBnby5Qb2ludC5wYXJzZSkubWFrZVR3b1dheShnby5Qb2ludC5zdHJpbmdpZnkpLAogICAgICAgICAgICAkKGdvLlBhbmVsLCAvL+ihqOaYjumcgOimgeWIm+W7uuS4gOS4qnBhbmVs6Z2i5p2/5a+56LGhLy/lo7DmmI7liJvlu7rkuIDkuKrmlrDnmoTpnaLmnb/lr7nosaEs6Ieq5a6a5LmJ5pa55byP5Y+v5Y+C6ICDbXlTZWxmLm15RGlhZ3JhbS5ub2RlVGVtcGxhdGUKICAgICAgICAgICAgICAiQXV0byIsIC8v6aG16Z2i5biD5bGA5Li66Ieq5YqoCiAgICAgICAgICAgICAgJChnby5TaGFwZSwvL+WjsOaYjuaehOW7uuS4gOS4quWchuW9ogogICAgICAgICAgICAgICAgLy8gdGhpcy5zaGFwZVtjb3VudF0sIAogICAgICAgICAgICAgICAgJ0NpcmNsZScsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGZpbGw6IHRoaXMuY29sb3JbY291bnRdLAogICAgICAgICAgICAgICAgICBjdXJzb3I6ICJwb2ludGVyIiwvL+aMh+mSiAogICAgICAgICAgICAgICAgICBzdHJva2U6IG51bGwsLy/lpJbmoYbpopzoibJudWxsCiAgICAgICAgICAgICAgICAgIHBvcnRJZDogIiIsCiAgICAgICAgICAgICAgICAgIGZyb21MaW5rYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgZnJvbUxpbmthYmxlU2VsZk5vZGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICBmcm9tTGlua2FibGVEdXBsaWNhdGVzOiB0cnVlLAogICAgICAgICAgICAgICAgICB0b0xpbmthYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICB0b0xpbmthYmxlU2VsZk5vZGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB0b0xpbmthYmxlRHVwbGljYXRlczogZmFsc2UsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoImZpZ3VyZSIsICJmaWd1cmUiKSAvL+WjsOaYjuW5tuWIm+W7uuS4gOS4quaWsOeahOWbvuW9ogogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgJChnby5UZXh0QmxvY2ssIHsvL+WjsOaYjuS4gOS4quWPr+e8lui+keaWh+acrOWfnwogICAgICAgICAgICAgICAgZm9udDogIjEwcHQgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiIsCiAgICAgICAgICAgICAgICB3aWR0aDogNTAsCiAgICAgICAgICAgICAgICBtYXhTaXplOiBuZXcgZ28uU2l6ZSgxODAsIE5hTiksCiAgICAgICAgICAgICAgICB3cmFwOiBnby5UZXh0QmxvY2suV3JhcEZpdCwgLy/mlofmnKzln5/mjaLooYwKICAgICAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLCAvL+aYr+WQpuWPr+e8lui+kQogICAgICAgICAgICAgICAgbWFyZ2luOiA2LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZygidGV4dCIpLm1ha2VUd29XYXkoKQogICAgICAgICAgICAgICksCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHsvLyAg5oKs5rWu5o+Q56S6CiAgICAgICAgICAgICAgdG9vbFRpcDoKICAgICAgICAgICAgICAgICQoIlRvb2xUaXAiLAogICAgICAgICAgICAgICAgICAkKGdvLlRleHRCbG9jaywgeyBtYXJnaW46IDQgfSwKICAgICAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZygidGV4dCIsIGtleSkpCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgKTsKICAgICAgICBjb3VudCA9IGNvdW50ICsgMQoKICAgICAgfQoKCiAgICAgIC8vIGxldCBteU1vZGVsID0gJChnby5HcmFwaExpbmtzTW9kZWwpOyAvL+S5n+WPr+S7peWIm+W7umxpbmsgbW9kZWw76ZyA6KaB6YWN572ubXlNb2RlbC5saW5rRGF0YUFycmF5IOWmguS4iwogICAgICAvLyBteU1vZGVsLm5vZGVEYXRhQXJyYXkgPSBteVNlbGYubm9kZURhdGE7CiAgICAgIC8vIG15TW9kZWwubGlua0RhdGFBcnJheSA9IG15U2VsZi5saW5rRGF0YTsKICAgICAgLy8gbXlTZWxmLm15RGlhZ3JhbS5tb2RlbCA9IG15TW9kZWw7CgogICAgICAvLyBteVNlbGYubXlEaWFncmFtLm1vZGVsLm5vZGVEYXRhQXJyYXkgPSBteVNlbGYubm9kZURhdGE7CiAgICAgIC8vIG15U2VsZi5teURpYWdyYW0ubW9kZWwubGlua0RhdGFBcnJheSA9IG15U2VsZi5saW5rRGF0YTsKICAgICAgbXlTZWxmLmluaXRQYWxldHRlKCk7CgogICAgICBteVNlbGYubXlEaWFncmFtLmFkZERpYWdyYW1MaXN0ZW5lcigiTW9kaWZpZWQiLCBlID0+IHsgLy/nm5HlkKznlLvluIPmmK/lkKbkv67mlLkKICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiU2F2ZUJ1dHRvbiIpOwogICAgICAgIGlmIChidXR0b24pIGJ1dHRvbi5kaXNhYmxlZCA9ICFteVNlbGYubXlEaWFncmFtLmlzTW9kaWZpZWQ7CiAgICAgICAgY29uc3QgaWR4ID0gZG9jdW1lbnQudGl0bGUuaW5kZXhPZigiKiIpOwogICAgICAgIGlmIChteVNlbGYubXlEaWFncmFtLmlzTW9kaWZpZWQpIHsKICAgICAgICAgIGlmIChpZHggPCAwKSBkb2N1bWVudC50aXRsZSArPSAiKiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpZHggPj0gMCkgZG9jdW1lbnQudGl0bGUgPSBkb2N1bWVudC50aXRsZS5zbGljZSgwLCBpZHgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaW5pdFBhbGV0dGUgKCkgewogICAgICB2YXIgbXlTZWxmID0gdGhpczsKICAgICAgY29uc3QgdHJhbnNmb3JtZWREYXRhID0gW107CgogICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IGluIHRoaXMucHJlcHJvY2Vzc19ub2RlKSB7CiAgICAgICAgY29uc3QgdGV4dHMgPSB0aGlzLnByZXByb2Nlc3Nfbm9kZVtjYXRlZ29yeV07CiAgICAgICAgdGV4dHMuZm9yRWFjaCh0ZXh0ID0+IHsKICAgICAgICAgIHRyYW5zZm9ybWVkRGF0YS5wdXNoKHsgY2F0ZWdvcnksIHRleHQgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIGNvbnNvbGUubG9nKHRyYW5zZm9ybWVkRGF0YSk7CiAgICAgIHdpbmRvdy5teVBhbGV0dGUgPSAkKAogICAgICAgIGdvLlBhbGV0dGUsCiAgICAgICAgIm15UGFsZXR0ZSIsIC8vIOW/hemhu+WRveWQjeaIluW8leeUqERJVi5IVE1M5YWD57SgCiAgICAgICAgewogICAgICAgICAgc2Nyb2xsc1BhZ2VPbkZvY3VzOiBmYWxzZSwKICAgICAgICAgIG5vZGVUZW1wbGF0ZU1hcDogbXlTZWxmLm15RGlhZ3JhbS5ub2RlVGVtcGxhdGVNYXAsIC8vIOWFseS6q215RGlhZ3JhbeS9v+eUqOeahOaooeadvwogICAgICAgICAgbW9kZWw6IG5ldyBnby5HcmFwaExpbmtzTW9kZWwodHJhbnNmb3JtZWREYXRhKQogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["preprocess.vue"],"names":[],"mappings":";;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"preprocess.vue","sourceRoot":"src/views/stream/draggable","sourcesContent":["<template></template>\r\n\r\n<script>\r\n  import { showpreprocess, classifiedpreprocess } from \"@/api/preprocess/upload\";\r\n  import go from 'gojs'\r\n  const $ = go.GraphObject.make;\r\n  export default {\r\n    name: \"Draggable\",\r\n    data () {\r\n      return {\r\n        preprocess_node: undefined,\r\n        model_node: undefined,\r\n        shape: ['Circle', 'Square', 'RoundedRectangle', 'Rectangle', 'Ellipse', 'Triangle'],\r\n        color: ['#99FF00', '#FF6600', '#FF33CC', '#6633FF', '#009966']\r\n      }\r\n    },\r\n\r\n    mounted () {\r\n      classifiedpreprocess().then(res => {\r\n        // console.log(res);\r\n        this.preprocess_node = res\r\n        // console.log(this.preprocess_node);\r\n        this.init()\r\n      })\r\n\r\n    },\r\n    methods: {\r\n      save () {\r\n        var mySelf = this;\r\n        console.log(mySelf.myDiagram.model.toJson());\r\n        mySelf.myDiagram.isModified = false;\r\n      },\r\n      init () {\r\n        class DemoForceDirectedLayout extends go.ForceDirectedLayout { //布局\r\n          makeNetwork (coll) {\r\n            const net = super.makeNetwork(coll);\r\n            net.vertexes.each(vertex => {\r\n              const node = vertex.node;\r\n              if (node !== null) vertex.isFixed = node.isSelected;\r\n            });\r\n            return net;\r\n          }\r\n        }\r\n        var mySelf = this;\r\n\r\n        mySelf.myDiagram =\r\n          $(go.Diagram, \"myDiagramDiv\",  // 为DIV.HTML元素创建一个画布\r\n            {\r\n              //设置画布配置\r\n              initialContentAlignment: go.Spot.Center, // 居中显示\r\n              \"undoManager.isEnabled\": true, // 支持 Ctrl-Z 和 Ctrl-Y 操作\r\n              \"toolManager.hoverDelay\": 100, //tooltip提示显示延时\r\n              \"toolManager.toolTipDuration\": 10000, //tooltip持续显示时间\r\n              //isReadOnly:true,//只读\r\n              \"grid.visible\": true, //显示网格\r\n              allowMove: true, //允许拖动\r\n              allowDragOut: true,\r\n              allowDelete: true,\r\n              allowCopy: true,\r\n              allowClipboard: true, initialAutoScale: go.Diagram.Uniform,  // 缩放以使所有内容都适合\r\n\r\n              \"toolManager.mouseWheelBehavior\": go.ToolManager.WheelZoom, //有鼠标滚轮事件放大和缩小，而不是向上和向下滚动\r\n              'clickCreatingTool.archetypeNodeData': { category: 'model', text: '新节点', notice: '' }, // 双击新建节点(可以写入节点的默认信息)；\r\n              layout: new DemoForceDirectedLayout()\r\n            });\r\n\r\n        mySelf.myDiagram.linkTemplate = $(go.Link, {\r\n          selectable: true, //连接线是否可选\r\n          relinkableFrom: true,//出发点是否可以改变\r\n          relinkableTo: true,//目标点是否可以改变\r\n        }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify),\r\n          $(go.Shape, {\r\n            strokeWidth: 2,//节点连接线宽度\r\n            stroke: \"#F60\"//颜色\r\n          }),\r\n          $(go.Shape, {\r\n            toArrow: \"Standard\",\r\n            fill: \"red\",//箭头填充色\r\n            stroke: \"blue\"//外边框颜色\r\n          })//箭头\r\n        );\r\n        var count = 0\r\n        for (var key in this.preprocess_node) {\r\n          mySelf.myDiagram.nodeTemplateMap.add(//创建名为node258的节点\r\n            key,\r\n            $(go.Node,\r\n              \"auto\",\r\n              {\r\n                movable: true,//是否可拖动\r\n                deletable: true,//是否可删除\r\n                selectable: true, //是否可选择\r\n                selectionAdorned: false, //显示选中边框\r\n                // reshapable:true, // 重塑(改变shape形状边界时使用，将影响节点大小)\r\n                // resizable: true, // 可调整大小的(手动调整节点大小时，节点内容显示区域时使用)\r\n              }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify),\r\n              $(go.Panel, //表明需要创建一个panel面板对象//声明创建一个新的面板对象,自定义方式可参考mySelf.myDiagram.nodeTemplate\r\n                \"Auto\", //页面布局为自动\r\n                $(go.Shape,//声明构建一个圆形\r\n                  // this.shape[count], \r\n                  'Circle',\r\n                  {\r\n                    fill: this.color[count],\r\n                    cursor: \"pointer\",//指针\r\n                    stroke: null,//外框颜色null\r\n                    portId: \"\",\r\n                    fromLinkable: true,\r\n                    fromLinkableSelfNode: false,\r\n                    fromLinkableDuplicates: true,\r\n                    toLinkable: true,\r\n                    toLinkableSelfNode: false,\r\n                    toLinkableDuplicates: false,\r\n                  },\r\n                  new go.Binding(\"figure\", \"figure\") //声明并创建一个新的图形\r\n                ),\r\n                $(go.TextBlock, {//声明一个可编辑文本域\r\n                  font: \"10pt Helvetica, Arial, sans-serif\",\r\n                  width: 50,\r\n                  maxSize: new go.Size(180, NaN),\r\n                  wrap: go.TextBlock.WrapFit, //文本域换行\r\n                  editable: true, //是否可编辑\r\n                  margin: 6,\r\n                },\r\n                  new go.Binding(\"text\").makeTwoWay()\r\n                ),\r\n              ),\r\n              {//  悬浮提示\r\n                toolTip:\r\n                  $(\"ToolTip\",\r\n                    $(go.TextBlock, { margin: 4 },\r\n                      new go.Binding(\"text\", key))\r\n                  ),\r\n              }\r\n            )\r\n          );\r\n          count = count + 1\r\n\r\n        }\r\n\r\n\r\n        // let myModel = $(go.GraphLinksModel); //也可以创建link model;需要配置myModel.linkDataArray 如下\r\n        // myModel.nodeDataArray = mySelf.nodeData;\r\n        // myModel.linkDataArray = mySelf.linkData;\r\n        // mySelf.myDiagram.model = myModel;\r\n\r\n        // mySelf.myDiagram.model.nodeDataArray = mySelf.nodeData;\r\n        // mySelf.myDiagram.model.linkDataArray = mySelf.linkData;\r\n        mySelf.initPalette();\r\n\r\n        mySelf.myDiagram.addDiagramListener(\"Modified\", e => { //监听画布是否修改\r\n          const button = document.getElementById(\"SaveButton\");\r\n          if (button) button.disabled = !mySelf.myDiagram.isModified;\r\n          const idx = document.title.indexOf(\"*\");\r\n          if (mySelf.myDiagram.isModified) {\r\n            if (idx < 0) document.title += \"*\";\r\n          } else {\r\n            if (idx >= 0) document.title = document.title.slice(0, idx);\r\n          }\r\n        });\r\n      },\r\n      initPalette () {\r\n        var mySelf = this;\r\n        const transformedData = [];\r\n\r\n        for (const category in this.preprocess_node) {\r\n          const texts = this.preprocess_node[category];\r\n          texts.forEach(text => {\r\n            transformedData.push({ category, text });\r\n          });\r\n        }\r\n\r\n        // console.log(transformedData);\r\n        window.myPalette = $(\r\n          go.Palette,\r\n          \"myPalette\", // 必须命名或引用DIV.HTML元素\r\n          {\r\n            scrollsPageOnFocus: false,\r\n            nodeTemplateMap: mySelf.myDiagram.nodeTemplateMap, // 共享myDiagram使用的模板\r\n            model: new go.GraphLinksModel(transformedData)\r\n          }\r\n        );\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n"]}]}